<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>迭代器模式-Iterator | 个人全栈之路</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  <!--<link href="//fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet" type="text/css">-->
  <link rel="stylesheet" href="/css/style.css">
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <!--<h1 id="logo-wrap">-->
        <!--<a href="/" id="logo">个人全栈之路</a>-->
      <!--</h1>-->
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-home-icon" class="nav-icon" href="/">首页</a>
        
          <a id="nav-design-icon" class="nav-icon" href="/design">设计</a>
        
          <a id="nav-frontend-icon" class="nav-icon" href="/frontend">前端</a>
        
          <a id="nav-android-icon" class="nav-icon" href="/android">Android</a>
        
          <a id="nav-ios-icon" class="nav-icon" href="/ios">iOS</a>
        
          <a id="nav-backend-icon" class="nav-icon" href="/backend">JEE</a>
        
          <a id="nav-database-icon" class="nav-icon" href="/database">数据库</a>
        
          <a id="nav-test-icon" class="nav-icon" href="/test">测试</a>
        
          <a id="nav-devops-icon" class="nav-icon" href="/devops">DevOps</a>
        
          <a id="nav-tool-icon" class="nav-icon" href="/tool">工具</a>
        
          <a id="nav-read-icon" class="nav-icon" href="/read">读书</a>
        
          <a id="nav-other-icon" class="nav-icon" href="/other">其他</a>
        
          <a id="nav-about-icon" class="nav-icon" href="/about">关于</a>
        
        
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  <div class="article-meta">
    
      <header class="article-header">
        
  
    <a class="article-title" href="/backend/dp/iterator.html">迭代器模式-Iterator</a>
  

      </header>
    
    
  </div>
  <div class="article-page-inner">
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么是迭代器模式？-What"><a href="#什么是迭代器模式？-What" class="headerlink" title="什么是迭代器模式？(What)"></a>什么是迭代器模式？(What)</h2><p>所谓迭代器模式，就是提供一种【顺序访问】【聚合对象】中的每一个元素且不暴露该聚合对象的内部数据结构的【方法】。</p>
<h4 id="模式类图："><a href="#模式类图：" class="headerlink" title="模式类图："></a>模式类图：</h4><p><img src="../../image/dp/iterator.jpg" alt="模式类图"></p>
<h4 id="角色划分："><a href="#角色划分：" class="headerlink" title="角色划分："></a>角色划分：</h4><ul>
<li>迭代器(Iterator)：定义访问和遍历元素的接口；</li>
<li>迭代器具体实现者(ArrayIterator、SetIterator)：具体实现迭代器接口，并要记录遍历中的【当前位置】；</li>
<li>聚合对象(Iterable)：提供创建返回【迭代器角色】的接口；</li>
<li>聚合对象实现者(Aggregate)：具体实现【迭代器角色】的创建；</li>
<li>客户端(Client)：需要遍历聚合对象的使用者！</li>
</ul>
<h4 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h4><p>聚合对象类Aggregate：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.HashSet;</div><div class="line"><span class="keyword">import</span> java.util.Set;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Aggregate</span> <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">    private int[] items; // 外部不可访问，数据类型为int</div><div class="line"></div><div class="line">    public Aggregate() &#123;</div><div class="line">        items = new int[10];</div><div class="line">        for (int i = 0; i &lt; items.length; i++) &#123;   // 填充内部数据，为了演示此处写死</div><div class="line">            items[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public Iterator iterator() &#123;   // 创建迭代对象，此处其实可以使用工厂方法返回对应的迭代器</div><div class="line">        return new ArrayIterator(items);</div><div class="line">    &#125;</div><div class="line">    */</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Set items;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Aggregate</span><span class="params">()</span> </span>&#123;</div><div class="line">        items = <span class="keyword">new</span> HashSet();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">            items.add(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Iterator <span class="title">iterator</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SetIterator(items);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Iterable接口：主要为了让Iterator类支持泛型，便于扩展<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;  <span class="comment">// 主要为了让Iterator类支持泛型，便于扩展，否则可以在Aggregate中实现该方法即可</span></div><div class="line"></div><div class="line">    <span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Iterator接口：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">    <span class="function">T <span class="title">next</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Iterator接口实现类ArrayIterator：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123; <span class="comment">// 数组迭代器实现类</span></div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] items;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> position = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayIterator</span><span class="params">(<span class="keyword">int</span>[] items)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.items = items;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> position &lt; items.length;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> items[position++];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Iterator接口实现类SetIterator：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Set;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123; <span class="comment">// 集合迭代器实现类</span></div><div class="line"></div><div class="line">    <span class="keyword">private</span> Set&lt;Integer&gt; items;</div><div class="line">    <span class="keyword">private</span> java.util.Iterator it;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SetIterator</span><span class="params">(Set items)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.items = items;</div><div class="line">        <span class="keyword">this</span>.it = items.iterator();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> it.hasNext();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> (Integer) it.next();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>客户端类Client：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line"></div><div class="line">        Aggregate aggregate = <span class="keyword">new</span> Aggregate();  <span class="comment">// 客户端并不知道aggregate的内部数据结构</span></div><div class="line">        Iterator it = aggregate.iterator();     <span class="comment">// 不管aggregate的内部数据结构怎么变，客户端都不需要修改代码</span></div><div class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</div><div class="line">            System.out.println(it.next());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输出结果：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="number">0</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div><div class="line"><span class="number">6</span></div><div class="line"><span class="number">7</span></div><div class="line"><span class="number">8</span></div><div class="line"><span class="number">9</span></div></pre></td></tr></table></figure></p>
<h4 id="使用JDK中的迭代器来简化该模式的代码开发："><a href="#使用JDK中的迭代器来简化该模式的代码开发：" class="headerlink" title="使用JDK中的迭代器来简化该模式的代码开发："></a>使用JDK中的迭代器来简化该模式的代码开发：</h4><p>聚合对象类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Iterator;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Aggregate2</span> <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] items;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Aggregate2</span><span class="params">()</span> </span>&#123;</div><div class="line">        items = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</div><div class="line">            items[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;Integer&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ConcreteIterator2(items);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>自定义的迭代器类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Iterator;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteIterator2</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] items;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> position = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ConcreteIterator2</span><span class="params">(<span class="keyword">int</span>[] items)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.items = items;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> position &lt; items.length;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> items[position++];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>客户端类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client2</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        Aggregate2 aggregate2 = <span class="keyword">new</span> Aggregate2();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> item : aggregate2) &#123;</div><div class="line">            System.out.println(item);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行结果如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="number">0</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div><div class="line"><span class="number">6</span></div><div class="line"><span class="number">7</span></div><div class="line"><span class="number">8</span></div><div class="line"><span class="number">9</span></div></pre></td></tr></table></figure></p>
<h2 id="为什么要使用建造者模式？-Why"><a href="#为什么要使用建造者模式？-Why" class="headerlink" title="为什么要使用建造者模式？(Why)"></a>为什么要使用建造者模式？(Why)</h2><p>对于使用方（客户端）来说，我并不想关心数据方（聚合对象）的内部数据结构，但是数据方的内部数据结构变了后，不能影响到我的（使用方）的正常使用。</p>
<p>聚合对象类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.HashSet;</div><div class="line"><span class="keyword">import</span> java.util.Set;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Aggregate3</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line">    public int[] items;</div><div class="line"></div><div class="line">    public Aggregate3() &#123;</div><div class="line">        items = new int[10];</div><div class="line">        for (int i = 0; i &lt; items.length; i++) &#123;</div><div class="line">            items[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    */</div><div class="line"></div><div class="line">    <span class="keyword">public</span> Set items;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Aggregate3</span><span class="params">()</span> </span>&#123;</div><div class="line">        items = <span class="keyword">new</span> HashSet();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">            items.add(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>客户端类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Iterator;</div><div class="line"><span class="keyword">import</span> java.util.Set;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client3</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line"></div><div class="line">        Aggregate3 aggregate3 = <span class="keyword">new</span> Aggregate3();</div><div class="line"></div><div class="line">        <span class="comment">/*</span></div><div class="line">        int[] arr = aggregate3.items;       // 此处必须知道aggregate3的内部数据结构为数组，以便使用for()遍历</div><div class="line">        for (int item : arr) &#123;</div><div class="line">            System.out.println(item);</div><div class="line">        &#125;</div><div class="line">        */</div><div class="line"></div><div class="line">        Set s = aggregate3.items;        <span class="comment">// aggregate3内部数据结构变为set后，客户端必须使用while()进行遍历</span></div><div class="line">        Iterator it = s.iterator();</div><div class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</div><div class="line">            System.out.println(it.next());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="什么场景下使用迭代器模式？-Where-When"><a href="#什么场景下使用迭代器模式？-Where-When" class="headerlink" title="什么场景下使用迭代器模式？(Where-When)"></a>什么场景下使用迭代器模式？(Where-When)</h2><ul>
<li>希望在不暴露集合对象的内部结构的前提下， 访问集合元素。</li>
<li>希望支持多种对于集合对象的遍历方式</li>
<li>希望为遍历不同的的集合对象提供一个统一的接口</li>
</ul>
<p>填空题：在不改动【客户端使用】的情况下， 实现【聚合对象内部数据结构变更】的扩展！</p>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2>
      
    </div>
  </div>
  
</article></section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 pksurecom@163.com<br>
    </div>
  </div>
</footer>
    </div>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>